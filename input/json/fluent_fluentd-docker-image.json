{"docker":[{"name":"FROM","lineno":4,"args":"ruby:2.6-slim-buster","raw":"FROM ruby:2.6-slim-buster"},{"name":"LABEL","lineno":5,"args":{"maintainer":"\"Fluentd developers <fluentd@googlegroups.com>\""},"raw":"LABEL maintainer \"Fluentd developers <fluentd@googlegroups.com>\""},{"name":"LABEL","lineno":6,"args":{"Description":"\"Fluentd docker image\"","Vendor":"\"Fluent Organization\"","Version":"\"1.10.0\""},"raw":"LABEL Description=\"Fluentd docker image\" Vendor=\"Fluent Organization\" Version=\"1.10.0\""},{"name":"ENV","lineno":7,"args":{"TINI_VERSION":"0.18.0"},"raw":"ENV TINI_VERSION=0.18.0"},{"name":"RUN","lineno":43,"args":"apt-get update  && apt-get install -y --no-install-recommends             ca-certificates  && buildDeps=\"       make gcc g++ libc-dev       wget bzip2 gnupg dirmngr     \"  && apt-get install -y --no-install-recommends $buildDeps  && echo 'gem: --no-document' >> /etc/gemrc  && gem install oj -v 3.8.1  && gem install json -v 2.3.0  && gem install async-http -v 0.50.7  && gem install ext_monitor -v 0.1.2  && gem install fluentd -v 1.10.0  && dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"  && wget -O /usr/local/bin/tini \"https://github.com/krallin/tini/releases/download/v$TINI_VERSION/tini-$dpkgArch\"  && wget -O /usr/local/bin/tini.asc \"https://github.com/krallin/tini/releases/download/v$TINI_VERSION/tini-$dpkgArch.asc\"  && export GNUPGHOME=\"$(mktemp -d)\"  && gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 6380DC428747F6C393FEACA59A84159D7001A4E5  && gpg --batch --verify /usr/local/bin/tini.asc /usr/local/bin/tini  && rm -r /usr/local/bin/tini.asc  && chmod +x /usr/local/bin/tini  && tini -h  && wget -O /tmp/jemalloc-4.5.0.tar.bz2 https://github.com/jemalloc/jemalloc/releases/download/4.5.0/jemalloc-4.5.0.tar.bz2  && cd /tmp && tar -xjf jemalloc-4.5.0.tar.bz2 && cd jemalloc-4.5.0/  && ./configure && make  && mv lib/libjemalloc.so.2 /usr/lib  && apt-get purge -y --auto-remove                   -o APT::AutoRemove::RecommendsImportant=false                   $buildDeps  && rm -rf /var/lib/apt/lists/*  && rm -rf /tmp/* /var/tmp/* /usr/lib/ruby/gems/*/cache/*.gem","raw":"RUN apt-get update  && apt-get install -y --no-install-recommends             ca-certificates  && buildDeps=\"       make gcc g++ libc-dev       wget bzip2 gnupg dirmngr     \"  && apt-get install -y --no-install-recommends $buildDeps  && echo 'gem: --no-document' >> /etc/gemrc  && gem install oj -v 3.8.1  && gem install json -v 2.3.0  && gem install async-http -v 0.50.7  && gem install ext_monitor -v 0.1.2  && gem install fluentd -v 1.10.0  && dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"  && wget -O /usr/local/bin/tini \"https://github.com/krallin/tini/releases/download/v$TINI_VERSION/tini-$dpkgArch\"  && wget -O /usr/local/bin/tini.asc \"https://github.com/krallin/tini/releases/download/v$TINI_VERSION/tini-$dpkgArch.asc\"  && export GNUPGHOME=\"$(mktemp -d)\"  && gpg --batch --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 6380DC428747F6C393FEACA59A84159D7001A4E5  && gpg --batch --verify /usr/local/bin/tini.asc /usr/local/bin/tini  && rm -r /usr/local/bin/tini.asc  && chmod +x /usr/local/bin/tini  && tini -h  && wget -O /tmp/jemalloc-4.5.0.tar.bz2 https://github.com/jemalloc/jemalloc/releases/download/4.5.0/jemalloc-4.5.0.tar.bz2  && cd /tmp && tar -xjf jemalloc-4.5.0.tar.bz2 && cd jemalloc-4.5.0/  && ./configure && make  && mv lib/libjemalloc.so.2 /usr/lib  && apt-get purge -y --auto-remove                   -o APT::AutoRemove::RecommendsImportant=false                   $buildDeps  && rm -rf /var/lib/apt/lists/*  && rm -rf /tmp/* /var/tmp/* /usr/lib/ruby/gems/*/cache/*.gem"},{"name":"RUN","lineno":46,"args":"groupadd -r fluent && useradd -r -g fluent fluent     # for log storage (maybe shared with host)","raw":"RUN groupadd -r fluent && useradd -r -g fluent fluent     # for log storage (maybe shared with host)"},{"name":"&&","lineno":48,"args":"mkdir -p /fluentd/log     # configuration/plugins path (default: copied from .)","raw":"&& mkdir -p /fluentd/log     # configuration/plugins path (default: copied from .)"},{"name":"&&","lineno":50,"args":"mkdir -p /fluentd/etc /fluentd/plugins     && chown -R fluent /fluentd && chgrp -R fluent /fluentd","raw":"&& mkdir -p /fluentd/etc /fluentd/plugins     && chown -R fluent /fluentd && chgrp -R fluent /fluentd"},{"name":"COPY","lineno":53,"args":["fluent.conf","/fluentd/etc/"],"raw":"COPY fluent.conf /fluentd/etc/"},{"name":"COPY","lineno":54,"args":["entrypoint.sh","/bin/"],"raw":"COPY entrypoint.sh /bin/"},{"name":"ENV","lineno":57,"args":{"FLUENTD_CONF":"\"fluent.conf\""},"raw":"ENV FLUENTD_CONF=\"fluent.conf\""},{"name":"ENV","lineno":59,"args":{"LD_PRELOAD":"\"/usr/lib/libjemalloc.so.2\""},"raw":"ENV LD_PRELOAD=\"/usr/lib/libjemalloc.so.2\""},{"name":"EXPOSE","lineno":60,"args":["24224","5140"],"raw":"EXPOSE 24224 5140"},{"name":"USER","lineno":62,"args":"fluent","raw":"USER fluent"},{"name":"ENTRYPOINT","lineno":63,"args":["tini","--","/bin/entrypoint.sh"],"raw":"ENTRYPOINT [\"tini\",  \"--\", \"/bin/entrypoint.sh\"]"},{"name":"CMD","lineno":64,"args":["fluentd"],"raw":"CMD [\"fluentd\"]"}]}