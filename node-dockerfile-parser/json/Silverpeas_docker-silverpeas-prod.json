{"docker":[{"name":"FROM","lineno":1,"args":"ubuntu:xenial","raw":"FROM ubuntu:xenial"},{"name":"MAINTAINER","lineno":3,"args":"Miguel Moquillon \"miguel.moquillon@silverpeas.org\"","raw":"MAINTAINER Miguel Moquillon \"miguel.moquillon@silverpeas.org\""},{"name":"ENV","lineno":5,"args":{"TERM":"xterm"},"raw":"ENV TERM=xterm"},{"name":"RUN","lineno":27,"args":"apt-get update && apt-get install -y     wget     locales     procps     net-tools     zip     unzip     openjdk-8-jdk     ffmpeg     imagemagick     ghostscript     ure     gpgv   && rm -rf /var/lib/apt/lists/*   && update-ca-certificates -f","raw":"RUN apt-get update && apt-get install -y     wget     locales     procps     net-tools     zip     unzip     openjdk-8-jdk     ffmpeg     imagemagick     ghostscript     ure     gpgv   && rm -rf /var/lib/apt/lists/*   && update-ca-certificates -f"},{"name":"RUN","lineno":33,"args":"wget -nc https://www.silverpeas.org/files/swftools-bin-0.9.2.zip   && echo 'd40bd091c84bde2872f2733a3c767b3a686c8e8477a3af3a96ef347cf05c5e43 *swftools-bin-0.9.2.zip' | sha256sum -   && unzip swftools-bin-0.9.2.zip -d /   && rm swftools-bin-0.9.2.zip","raw":"RUN wget -nc https://www.silverpeas.org/files/swftools-bin-0.9.2.zip   && echo 'd40bd091c84bde2872f2733a3c767b3a686c8e8477a3af3a96ef347cf05c5e43 *swftools-bin-0.9.2.zip' | sha256sum -   && unzip swftools-bin-0.9.2.zip -d /   && rm swftools-bin-0.9.2.zip"},{"name":"RUN","lineno":39,"args":"wget -nc https://www.silverpeas.org/files/pdf2json-bin-0.68.zip   && echo 'eec849cdd75224f9d44c0999ed1fbe8764a773d8ab0cf7fff4bf922ab81c9f84 *pdf2json-bin-0.68.zip' | sha256sum -   && unzip pdf2json-bin-0.68.zip -d /   && rm pdf2json-bin-0.68.zip","raw":"RUN wget -nc https://www.silverpeas.org/files/pdf2json-bin-0.68.zip   && echo 'eec849cdd75224f9d44c0999ed1fbe8764a773d8ab0cf7fff4bf922ab81c9f84 *pdf2json-bin-0.68.zip' | sha256sum -   && unzip pdf2json-bin-0.68.zip -d /   && rm pdf2json-bin-0.68.zip"},{"name":"ARG","lineno":46,"args":["DEFAULT_LOCALE=en_US.UTF-8"],"raw":"ARG DEFAULT_LOCALE=en_US.UTF-8"},{"name":"RUN","lineno":53,"args":"echo \"en_US.UTF-8 UTF-8\" >> /etc/locale.gen   && echo \"fr_FR.UTF-8 UTF-8\" >> /etc/locale.gen   && echo \"de_DE.UTF-8 UTF-8\" >> /etc/locale.gen   && locale-gen   && update-locale LANG=${DEFAULT_LOCALE} LANGUAGE=${DEFAULT_LOCALE} LC_ALL=${DEFAULT_LOCALE}","raw":"RUN echo \"en_US.UTF-8 UTF-8\" >> /etc/locale.gen   && echo \"fr_FR.UTF-8 UTF-8\" >> /etc/locale.gen   && echo \"de_DE.UTF-8 UTF-8\" >> /etc/locale.gen   && locale-gen   && update-locale LANG=${DEFAULT_LOCALE} LANGUAGE=${DEFAULT_LOCALE} LC_ALL=${DEFAULT_LOCALE}"},{"name":"ENV","lineno":55,"args":{"LANG":"${DEFAULT_LOCALE}"},"raw":"ENV LANG ${DEFAULT_LOCALE}"},{"name":"ENV","lineno":56,"args":{"LANGUAGE":"${DEFAULT_LOCALE}"},"raw":"ENV LANGUAGE ${DEFAULT_LOCALE}"},{"name":"ENV","lineno":57,"args":{"LC_ALL":"${DEFAULT_LOCALE}"},"raw":"ENV LC_ALL ${DEFAULT_LOCALE}"},{"name":"RUN","lineno":71,"args":"{ \t\techo '#!/bin/sh'; \t\techo 'set -e'; \t\techo; \t\techo 'dirname \"$(dirname \"$(readlink -f \"$(which javac || which java)\")\")\"'; \t} > /usr/local/bin/docker-java-home \t&& chmod +x /usr/local/bin/docker-java-home","raw":"RUN { \t\techo '#!/bin/sh'; \t\techo 'set -e'; \t\techo; \t\techo 'dirname \"$(dirname \"$(readlink -f \"$(which javac || which java)\")\")\"'; \t} > /usr/local/bin/docker-java-home \t&& chmod +x /usr/local/bin/docker-java-home"},{"name":"RUN","lineno":74,"args":"ln -svT \"/usr/lib/jvm/java-8-openjdk-$(dpkg --print-architecture)\" /docker-java-home","raw":"RUN ln -svT \"/usr/lib/jvm/java-8-openjdk-$(dpkg --print-architecture)\" /docker-java-home"},{"name":"ENV","lineno":77,"args":{"JAVA_HOME":"/docker-java-home"},"raw":"ENV JAVA_HOME /docker-java-home"},{"name":"ENV","lineno":78,"args":{"SILVERPEAS_HOME":"/opt/silverpeas"},"raw":"ENV SILVERPEAS_HOME /opt/silverpeas"},{"name":"ENV","lineno":79,"args":{"JBOSS_HOME":"/opt/wildfly"},"raw":"ENV JBOSS_HOME /opt/wildfly"},{"name":"ENV","lineno":81,"args":{"SILVERPEAS_VERSION":"6.0.2"},"raw":"ENV SILVERPEAS_VERSION=6.0.2"},{"name":"ENV","lineno":82,"args":{"WILDFLY_VERSION":"10.1.0"},"raw":"ENV WILDFLY_VERSION=10.1.0"},{"name":"LABEL","lineno":83,"args":{"name":"\"Silverpeas 6\"","description":"\"Image to install and to run Silverpeas 6\"","vendor":"\"Silverpeas\"","version":"\"6.0.2\"","build":"1"},"raw":"LABEL name=\"Silverpeas 6\" description=\"Image to install and to run Silverpeas 6\" vendor=\"Silverpeas\" version=\"6.0.2\" build=1"},{"name":"RUN","lineno":86,"args":"wget -nc https://www.silverpeas.org/files/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"RUN wget -nc https://www.silverpeas.org/files/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":87,"args":"","raw":"."},{"name":"}.ZIP","lineno":89,"args":"&& wget -nc https://www.silverpeas.org/files/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"}.zip   && wget -nc https://www.silverpeas.org/files/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":90,"args":"","raw":"."},{"name":"}.ZIP.ASC","lineno":93,"args":"&& gpg --keyserver ha.pool.sks-keyservers.net --recv-keys 3F4657EF9C591F2FEA458FEBC19391EB3DF442B6   && gpg --batch --verify silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"}.zip.asc   && gpg --keyserver ha.pool.sks-keyservers.net --recv-keys 3F4657EF9C591F2FEA458FEBC19391EB3DF442B6   && gpg --batch --verify silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":94,"args":"","raw":"."},{"name":"}.ZIP.ASC","lineno":95,"args":"silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"}.zip.asc silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":96,"args":"","raw":"."},{"name":"}.ZIP","lineno":99,"args":"&& wget -nc http://download.jboss.org/wildfly/${WILDFLY_VERSION}.Final/wildfly-${WILDFLY_VERSION}.Final.zip   && unzip silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"}.zip   && wget -nc http://download.jboss.org/wildfly/${WILDFLY_VERSION}.Final/wildfly-${WILDFLY_VERSION}.Final.zip   && unzip silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":100,"args":"","raw":"."},{"name":"}.ZIP","lineno":103,"args":"-d /opt   && unzip wildfly-${WILDFLY_VERSION}.Final.zip -d /opt   && mv /opt/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%.","raw":"}.zip -d /opt   && unzip wildfly-${WILDFLY_VERSION}.Final.zip -d /opt   && mv /opt/silverpeas-${SILVERPEAS_VERSION}-wildfly${WILDFLY_VERSION%."},{"name":".","lineno":104,"args":"","raw":"."},{"name":"}","lineno":108,"args":"/opt/silverpeas   && mv /opt/wildfly-${WILDFLY_VERSION}.Final /opt/wildfly   && rm *.zip   && mkdir -p /root/.m2","raw":"} /opt/silverpeas   && mv /opt/wildfly-${WILDFLY_VERSION}.Final /opt/wildfly   && rm *.zip   && mkdir -p /root/.m2"},{"name":"COPY","lineno":112,"args":["src/settings.xml","/root/.m2/"],"raw":"COPY src/settings.xml /root/.m2/"},{"name":"WORKDIR","lineno":115,"args":"${SILVERPEAS_HOME}/bin","raw":"WORKDIR ${SILVERPEAS_HOME}/bin"},{"name":"COPY","lineno":118,"args":["src/run.sh","/opt/"],"raw":"COPY src/run.sh /opt/"},{"name":"COPY","lineno":119,"args":["src/converter.groovy","${SILVERPEAS_HOME}/configuration/silverpeas/"],"raw":"COPY src/converter.groovy ${SILVERPEAS_HOME}/configuration/silverpeas/"},{"name":"RUN","lineno":124,"args":"./silverpeas assemble   && rm ../log/build-*   && touch .install","raw":"RUN ./silverpeas assemble   && rm ../log/build-*   && touch .install"},{"name":"EXPOSE","lineno":132,"args":["8000","9990"],"raw":"EXPOSE 8000 9990"},{"name":"VOLUME","lineno":136,"args":["/opt/silverpeas/log","/opt/silverpeas/data","/opt/silverpeas/xmlcomponents/workflows"],"raw":"VOLUME [\"/opt/silverpeas/log\", \"/opt/silverpeas/data\", \"/opt/silverpeas/xmlcomponents/workflows\"]"},{"name":"CMD","lineno":139,"args":["/opt/run.sh"],"raw":"CMD [\"/opt/run.sh\"]"}]}