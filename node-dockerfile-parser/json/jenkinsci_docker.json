{"docker":[{"name":"FROM","lineno":1,"args":"openjdk:8-jdk-stretch","raw":"FROM openjdk:8-jdk-stretch"},{"name":"RUN","lineno":5,"args":"apt-get update && apt-get upgrade -y && apt-get install -y git curl && curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash && apt-get install -y git-lfs && git lfs install && rm -rf /var/lib/apt/lists/*","raw":"RUN apt-get update && apt-get upgrade -y && apt-get install -y git curl && curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | bash && apt-get install -y git-lfs && git lfs install && rm -rf /var/lib/apt/lists/*"},{"name":"ARG","lineno":7,"args":["user=jenkins"],"raw":"ARG user=jenkins"},{"name":"ARG","lineno":8,"args":["group=jenkins"],"raw":"ARG group=jenkins"},{"name":"ARG","lineno":9,"args":["uid=1000"],"raw":"ARG uid=1000"},{"name":"ARG","lineno":10,"args":["gid=1000"],"raw":"ARG gid=1000"},{"name":"ARG","lineno":11,"args":["http_port=8080"],"raw":"ARG http_port=8080"},{"name":"ARG","lineno":12,"args":["agent_port=50000"],"raw":"ARG agent_port=50000"},{"name":"ARG","lineno":13,"args":["JENKINS_HOME=/var/jenkins_home"],"raw":"ARG JENKINS_HOME=/var/jenkins_home"},{"name":"ARG","lineno":14,"args":["REF=/usr/share/jenkins/ref"],"raw":"ARG REF=/usr/share/jenkins/ref"},{"name":"ENV","lineno":16,"args":{"JENKINS_HOME":"$JENKINS_HOME"},"raw":"ENV JENKINS_HOME $JENKINS_HOME"},{"name":"ENV","lineno":17,"args":{"JENKINS_SLAVE_AGENT_PORT":"${agent_port}"},"raw":"ENV JENKINS_SLAVE_AGENT_PORT ${agent_port}"},{"name":"ENV","lineno":18,"args":{"REF":"$REF"},"raw":"ENV REF $REF"},{"name":"RUN","lineno":26,"args":"mkdir -p $JENKINS_HOME   && chown ${uid}:${gid} $JENKINS_HOME   && groupadd -g ${gid} ${group}   && useradd -d \"$JENKINS_HOME\" -u ${uid} -g ${gid} -m -s /bin/bash ${user}","raw":"RUN mkdir -p $JENKINS_HOME   && chown ${uid}:${gid} $JENKINS_HOME   && groupadd -g ${gid} ${group}   && useradd -d \"$JENKINS_HOME\" -u ${uid} -g ${gid} -m -s /bin/bash ${user}"},{"name":"VOLUME","lineno":30,"args":["$JENKINS_HOME"],"raw":"VOLUME $JENKINS_HOME"},{"name":"RUN","lineno":35,"args":"mkdir -p ${REF}/init.groovy.d","raw":"RUN mkdir -p ${REF}/init.groovy.d"},{"name":"ARG","lineno":38,"args":["TINI_VERSION=v0.16.1"],"raw":"ARG TINI_VERSION=v0.16.1"},{"name":"COPY","lineno":39,"args":["tini_pub.gpg","${JENKINS_HOME}/tini_pub.gpg"],"raw":"COPY tini_pub.gpg ${JENKINS_HOME}/tini_pub.gpg"},{"name":"RUN","lineno":45,"args":"curl -fsSL https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static-$(dpkg --print-architecture) -o /sbin/tini   && curl -fsSL https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static-$(dpkg --print-architecture).asc -o /sbin/tini.asc   && gpg --no-tty --import ${JENKINS_HOME}/tini_pub.gpg   && gpg --verify /sbin/tini.asc   && rm -rf /sbin/tini.asc /root/.gnupg   && chmod +x /sbin/tini","raw":"RUN curl -fsSL https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static-$(dpkg --print-architecture) -o /sbin/tini   && curl -fsSL https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini-static-$(dpkg --print-architecture).asc -o /sbin/tini.asc   && gpg --no-tty --import ${JENKINS_HOME}/tini_pub.gpg   && gpg --verify /sbin/tini.asc   && rm -rf /sbin/tini.asc /root/.gnupg   && chmod +x /sbin/tini"},{"name":"ARG","lineno":48,"args":["JENKINS_VERSION"],"raw":"ARG JENKINS_VERSION"},{"name":"ENV","lineno":49,"args":{"JENKINS_VERSION":"${JENKINS_VERSION:-2.176.2}"},"raw":"ENV JENKINS_VERSION ${JENKINS_VERSION:-2.176.2}"},{"name":"ARG","lineno":52,"args":["JENKINS_SHA=33a6c3161cf8de9c8729fd83914d781319fd1569acf487c7b1121681dba190a5"],"raw":"ARG JENKINS_SHA=33a6c3161cf8de9c8729fd83914d781319fd1569acf487c7b1121681dba190a5"},{"name":"ARG","lineno":55,"args":["JENKINS_URL=https://repo.jenkins-ci.org/public/org/jenkins-ci/main/jenkins-war/${JENKINS_VERSION}/jenkins-war-${JENKINS_VERSION}.war"],"raw":"ARG JENKINS_URL=https://repo.jenkins-ci.org/public/org/jenkins-ci/main/jenkins-war/${JENKINS_VERSION}/jenkins-war-${JENKINS_VERSION}.war"},{"name":"RUN","lineno":60,"args":"curl -fsSL ${JENKINS_URL} -o /usr/share/jenkins/jenkins.war   && echo \"${JENKINS_SHA}  /usr/share/jenkins/jenkins.war\" | sha256sum -c -","raw":"RUN curl -fsSL ${JENKINS_URL} -o /usr/share/jenkins/jenkins.war   && echo \"${JENKINS_SHA}  /usr/share/jenkins/jenkins.war\" | sha256sum -c -"},{"name":"ENV","lineno":62,"args":{"JENKINS_UC":"https://updates.jenkins.io"},"raw":"ENV JENKINS_UC https://updates.jenkins.io"},{"name":"ENV","lineno":63,"args":{"JENKINS_UC_EXPERIMENTAL":"https://updates.jenkins.io/experimental"},"raw":"ENV JENKINS_UC_EXPERIMENTAL=https://updates.jenkins.io/experimental"},{"name":"ENV","lineno":64,"args":{"JENKINS_INCREMENTALS_REPO_MIRROR":"https://repo.jenkins-ci.org/incrementals"},"raw":"ENV JENKINS_INCREMENTALS_REPO_MIRROR=https://repo.jenkins-ci.org/incrementals"},{"name":"RUN","lineno":65,"args":"chown -R ${user} \"$JENKINS_HOME\" \"$REF\"","raw":"RUN chown -R ${user} \"$JENKINS_HOME\" \"$REF\""},{"name":"EXPOSE","lineno":68,"args":["${http_port}"],"raw":"EXPOSE ${http_port}"},{"name":"EXPOSE","lineno":71,"args":["${agent_port}"],"raw":"EXPOSE ${agent_port}"},{"name":"ENV","lineno":73,"args":{"COPY_REFERENCE_FILE_LOG":"$JENKINS_HOME/copy_reference_file.log"},"raw":"ENV COPY_REFERENCE_FILE_LOG $JENKINS_HOME/copy_reference_file.log"},{"name":"USER","lineno":75,"args":"${user}","raw":"USER ${user}"},{"name":"COPY","lineno":77,"args":["jenkins-support","/usr/local/bin/jenkins-support"],"raw":"COPY jenkins-support /usr/local/bin/jenkins-support"},{"name":"COPY","lineno":78,"args":["jenkins.sh","/usr/local/bin/jenkins.sh"],"raw":"COPY jenkins.sh /usr/local/bin/jenkins.sh"},{"name":"COPY","lineno":79,"args":["tini-shim.sh","/bin/tini"],"raw":"COPY tini-shim.sh /bin/tini"},{"name":"ENTRYPOINT","lineno":80,"args":["/sbin/tini","--","/usr/local/bin/jenkins.sh"],"raw":"ENTRYPOINT [\"/sbin/tini\", \"--\", \"/usr/local/bin/jenkins.sh\"]"},{"name":"COPY","lineno":83,"args":["plugins.sh","/usr/local/bin/plugins.sh"],"raw":"COPY plugins.sh /usr/local/bin/plugins.sh"},{"name":"COPY","lineno":84,"args":["install-plugins.sh","/usr/local/bin/install-plugins.sh"],"raw":"COPY install-plugins.sh /usr/local/bin/install-plugins.sh"}]}