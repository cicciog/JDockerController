{"docker":[{"name":"FROM","lineno":1,"args":"python:2.7-slim-stretch","raw":"FROM python:2.7-slim-stretch"},{"name":"ENV","lineno":10,"args":{"PIP":"19.0.3","ZC_BUILDOUT":"2.13.1","SETUPTOOLS":"41.0.0","WHEEL":"0.33.1","PLONE_MAJOR":"5.2","PLONE_VERSION":"5.2","PLONE_VERSION_RELEASE":"5.2.0","PLONE_MD5":"211ff749422611db2e448dea639e1fba"},"raw":"ENV PIP=19.0.3     ZC_BUILDOUT=2.13.1     SETUPTOOLS=41.0.0     WHEEL=0.33.1     PLONE_MAJOR=5.2     PLONE_VERSION=5.2     PLONE_VERSION_RELEASE=5.2.0     PLONE_MD5=211ff749422611db2e448dea639e1fba"},{"name":"LABEL","lineno":17,"args":{"plone":"$PLONE_VERSION","os":"\"debian\"","os.version":"\"9\"","name":"\"Plone 5.2\"","description":"\"Plone image, based on Unified Installer\"","maintainer":"\"Plone Community\""},"raw":"LABEL plone=$PLONE_VERSION     os=\"debian\"     os.version=\"9\"     name=\"Plone 5.2\"     description=\"Plone image, based on Unified Installer\"     maintainer=\"Plone Community\""},{"name":"RUN","lineno":20,"args":"useradd --system -m -d /plone -U -u 500 plone  && mkdir -p /plone/instance/ /data/filestorage /data/blobstorage","raw":"RUN useradd --system -m -d /plone -U -u 500 plone  && mkdir -p /plone/instance/ /data/filestorage /data/blobstorage"},{"name":"COPY","lineno":22,"args":["buildout.cfg","/plone/instance/"],"raw":"COPY buildout.cfg /plone/instance/"},{"name":"RUN","lineno":44,"args":"buildDeps=\"dpkg-dev gcc libbz2-dev libc6-dev libffi-dev libjpeg62-turbo-dev libopenjp2-7-dev libpcre3-dev libssl-dev libtiff5-dev libxml2-dev libxslt1-dev wget zlib1g-dev\"  && runDeps=\"gosu libjpeg62 libopenjp2-7 libtiff5 libxml2 libxslt1.1 lynx netcat poppler-utils rsync wv\"  && apt-get update  && apt-get install -y --no-install-recommends $buildDeps  && wget -O Plone.tgz https://launchpad.net/plone/$PLONE_MAJOR/$PLONE_VERSION/+download/Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller.tgz  && echo \"$PLONE_MD5 Plone.tgz\" | md5sum -c -  && tar -xzf Plone.tgz  && cp -rv ./Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller/base_skeleton/* /plone/instance/  && cp -v ./Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller/buildout_templates/buildout.cfg /plone/instance/buildout-base.cfg  && pip install pip==$PIP setuptools==$SETUPTOOLS zc.buildout==$ZC_BUILDOUT wheel==$WHEEL  && cd /plone/instance  && buildout  && ln -s /data/filestorage/ /plone/instance/var/filestorage  && ln -s /data/blobstorage /plone/instance/var/blobstorage  && find /data  -not -user plone -exec chown plone:plone {} \\+  && find /plone -not -user plone -exec chown plone:plone {} \\+  && rm -rf /Plone*  && apt-get purge -y --auto-remove $buildDeps  && apt-get install -y --no-install-recommends $runDeps  && rm -rf /var/lib/apt/lists/*  && rm -rf /plone/buildout-cache/downloads/*","raw":"RUN buildDeps=\"dpkg-dev gcc libbz2-dev libc6-dev libffi-dev libjpeg62-turbo-dev libopenjp2-7-dev libpcre3-dev libssl-dev libtiff5-dev libxml2-dev libxslt1-dev wget zlib1g-dev\"  && runDeps=\"gosu libjpeg62 libopenjp2-7 libtiff5 libxml2 libxslt1.1 lynx netcat poppler-utils rsync wv\"  && apt-get update  && apt-get install -y --no-install-recommends $buildDeps  && wget -O Plone.tgz https://launchpad.net/plone/$PLONE_MAJOR/$PLONE_VERSION/+download/Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller.tgz  && echo \"$PLONE_MD5 Plone.tgz\" | md5sum -c -  && tar -xzf Plone.tgz  && cp -rv ./Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller/base_skeleton/* /plone/instance/  && cp -v ./Plone-$PLONE_VERSION_RELEASE-UnifiedInstaller/buildout_templates/buildout.cfg /plone/instance/buildout-base.cfg  && pip install pip==$PIP setuptools==$SETUPTOOLS zc.buildout==$ZC_BUILDOUT wheel==$WHEEL  && cd /plone/instance  && buildout  && ln -s /data/filestorage/ /plone/instance/var/filestorage  && ln -s /data/blobstorage /plone/instance/var/blobstorage  && find /data  -not -user plone -exec chown plone:plone {} \\+  && find /plone -not -user plone -exec chown plone:plone {} \\+  && rm -rf /Plone*  && apt-get purge -y --auto-remove $buildDeps  && apt-get install -y --no-install-recommends $runDeps  && rm -rf /var/lib/apt/lists/*  && rm -rf /plone/buildout-cache/downloads/*"},{"name":"VOLUME","lineno":46,"args":["/data"],"raw":"VOLUME /data"},{"name":"COPY","lineno":48,"args":["docker-initialize.py","docker-entrypoint.sh","/"],"raw":"COPY docker-initialize.py docker-entrypoint.sh /"},{"name":"EXPOSE","lineno":50,"args":["8080"],"raw":"EXPOSE 8080"},{"name":"WORKDIR","lineno":51,"args":"/plone/instance","raw":"WORKDIR /plone/instance"},{"name":"HEALTHCHECK","lineno":54,"args":"--interval=1m --timeout=5s --start-period=1m   CMD nc -z -w5 127.0.0.1 8080 || exit 1","raw":"HEALTHCHECK --interval=1m --timeout=5s --start-period=1m   CMD nc -z -w5 127.0.0.1 8080 || exit 1"},{"name":"ENTRYPOINT","lineno":56,"args":["/docker-entrypoint.sh"],"raw":"ENTRYPOINT [\"/docker-entrypoint.sh\"]"},{"name":"CMD","lineno":57,"args":["start"],"raw":"CMD [\"start\"]"}]}