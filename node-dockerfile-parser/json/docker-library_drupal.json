{"docker":[{"name":"FROM","lineno":2,"args":"php:7.3-apache-stretch","raw":"FROM php:7.3-apache-stretch"},{"name":"RUN","lineno":37,"args":"set -eux; \t\tif command -v a2enmod; then \t\ta2enmod rewrite; \tfi; \t\tsavedAptMark=\"$(apt-mark showmanual)\"; \t\tapt-get update; \tapt-get install -y --no-install-recommends \t\tlibfreetype6-dev \t\tlibjpeg-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibzip-dev \t; \t\tdocker-php-ext-configure gd \t\t--with-freetype-dir=/usr \t\t--with-jpeg-dir=/usr \t\t--with-png-dir=/usr \t; \t\tdocker-php-ext-install -j \"$(nproc)\" \t\tgd \t\topcache \t\tpdo_mysql \t\tpdo_pgsql \t\tzip \t; \t# reset apt-mark's \"manual\" list so that \"purge --auto-remove\" will remove all build dependencies","raw":"RUN set -eux; \t\tif command -v a2enmod; then \t\ta2enmod rewrite; \tfi; \t\tsavedAptMark=\"$(apt-mark showmanual)\"; \t\tapt-get update; \tapt-get install -y --no-install-recommends \t\tlibfreetype6-dev \t\tlibjpeg-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibzip-dev \t; \t\tdocker-php-ext-configure gd \t\t--with-freetype-dir=/usr \t\t--with-jpeg-dir=/usr \t\t--with-png-dir=/usr \t; \t\tdocker-php-ext-install -j \"$(nproc)\" \t\tgd \t\topcache \t\tpdo_mysql \t\tpdo_pgsql \t\tzip \t; \t# reset apt-mark's \"manual\" list so that \"purge --auto-remove\" will remove all build dependencies"},{"name":"APT-MARK","lineno":49,"args":"auto '.*' > /dev/null; \tapt-mark manual $savedAptMark; \tldd \"$(php -r 'echo ini_get(\"extension_dir\");')\"/*.so \t\t| awk '/=>/ { print $3 }' \t\t| sort -u \t\t| xargs -r dpkg-query -S \t\t| cut -d: -f1 \t\t| sort -u \t\t| xargs -rt apt-mark manual; \t\tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \trm -rf /var/lib/apt/lists/*","raw":"apt-mark auto '.*' > /dev/null; \tapt-mark manual $savedAptMark; \tldd \"$(php -r 'echo ini_get(\"extension_dir\");')\"/*.so \t\t| awk '/=>/ { print $3 }' \t\t| sort -u \t\t| xargs -r dpkg-query -S \t\t| cut -d: -f1 \t\t| sort -u \t\t| xargs -rt apt-mark manual; \t\tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \trm -rf /var/lib/apt/lists/*"},{"name":"RUN","lineno":59,"args":"{ \t\techo 'opcache.memory_consumption=128'; \t\techo 'opcache.interned_strings_buffer=8'; \t\techo 'opcache.max_accelerated_files=4000'; \t\techo 'opcache.revalidate_freq=60'; \t\techo 'opcache.fast_shutdown=1'; \t} > /usr/local/etc/php/conf.d/opcache-recommended.ini","raw":"RUN { \t\techo 'opcache.memory_consumption=128'; \t\techo 'opcache.interned_strings_buffer=8'; \t\techo 'opcache.max_accelerated_files=4000'; \t\techo 'opcache.revalidate_freq=60'; \t\techo 'opcache.fast_shutdown=1'; \t} > /usr/local/etc/php/conf.d/opcache-recommended.ini"},{"name":"WORKDIR","lineno":61,"args":"/var/www/html","raw":"WORKDIR /var/www/html"},{"name":"ENV","lineno":64,"args":{"DRUPAL_VERSION":"7.69"},"raw":"ENV DRUPAL_VERSION 7.69"},{"name":"ENV","lineno":65,"args":{"DRUPAL_MD5":"292290a2fb1f5fc919291dc3949cdf7c"},"raw":"ENV DRUPAL_MD5 292290a2fb1f5fc919291dc3949cdf7c"},{"name":"RUN","lineno":72,"args":"set -eux; \tcurl -fSL \"https://ftp.drupal.org/files/projects/drupal-${DRUPAL_VERSION}.tar.gz\" -o drupal.tar.gz; \techo \"${DRUPAL_MD5} *drupal.tar.gz\" | md5sum -c -; \ttar -xz --strip-components=1 -f drupal.tar.gz; \trm drupal.tar.gz; \tchown -R www-data:www-data sites modules themes","raw":"RUN set -eux; \tcurl -fSL \"https://ftp.drupal.org/files/projects/drupal-${DRUPAL_VERSION}.tar.gz\" -o drupal.tar.gz; \techo \"${DRUPAL_MD5} *drupal.tar.gz\" | md5sum -c -; \ttar -xz --strip-components=1 -f drupal.tar.gz; \trm drupal.tar.gz; \tchown -R www-data:www-data sites modules themes"}]}