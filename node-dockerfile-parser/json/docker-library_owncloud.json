{"docker":[{"name":"FROM","lineno":7,"args":"php:7.0-apache","raw":"FROM php:7.0-apache"},{"name":"RUN","lineno":23,"args":"apt-get update && apt-get install -y --no-install-recommends \t\tbzip2 \t\tgnupg dirmngr \t\tlibcurl4-openssl-dev \t\tlibfreetype6-dev \t\tlibicu-dev \t\tlibjpeg-dev \t\tlibldap2-dev \t\tlibmcrypt-dev \t\tlibmemcached-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibxml2-dev \t\tunzip \t&& rm -rf /var/lib/apt/lists/*","raw":"RUN apt-get update && apt-get install -y --no-install-recommends \t\tbzip2 \t\tgnupg dirmngr \t\tlibcurl4-openssl-dev \t\tlibfreetype6-dev \t\tlibicu-dev \t\tlibjpeg-dev \t\tlibldap2-dev \t\tlibmcrypt-dev \t\tlibmemcached-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibxml2-dev \t\tunzip \t&& rm -rf /var/lib/apt/lists/*"},{"name":"RUN","lineno":41,"args":"set -ex; \tdocker-php-ext-configure gd --with-png-dir=/usr --with-jpeg-dir=/usr; \tdebMultiarch=\"$(dpkg-architecture --query DEB_BUILD_MULTIARCH)\"; \tdocker-php-ext-configure ldap --with-libdir=\"lib/$debMultiarch\"; \tdocker-php-ext-install -j \"$(nproc)\" \t\texif \t\tgd \t\tintl \t\tldap \t\tmcrypt \t\topcache \t\tpcntl \t\tpdo_mysql \t\tpdo_pgsql \t\tpgsql \t\tzip","raw":"RUN set -ex; \tdocker-php-ext-configure gd --with-png-dir=/usr --with-jpeg-dir=/usr; \tdebMultiarch=\"$(dpkg-architecture --query DEB_BUILD_MULTIARCH)\"; \tdocker-php-ext-configure ldap --with-libdir=\"lib/$debMultiarch\"; \tdocker-php-ext-install -j \"$(nproc)\" \t\texif \t\tgd \t\tintl \t\tldap \t\tmcrypt \t\topcache \t\tpcntl \t\tpdo_mysql \t\tpdo_pgsql \t\tpgsql \t\tzip"},{"name":"RUN","lineno":52,"args":"{ \t\techo 'opcache.memory_consumption=128'; \t\techo 'opcache.interned_strings_buffer=8'; \t\techo 'opcache.max_accelerated_files=4000'; \t\techo 'opcache.revalidate_freq=60'; \t\techo 'opcache.fast_shutdown=1'; \t\techo 'opcache.enable_cli=1'; \t} > /usr/local/etc/php/conf.d/opcache-recommended.ini","raw":"RUN { \t\techo 'opcache.memory_consumption=128'; \t\techo 'opcache.interned_strings_buffer=8'; \t\techo 'opcache.max_accelerated_files=4000'; \t\techo 'opcache.revalidate_freq=60'; \t\techo 'opcache.fast_shutdown=1'; \t\techo 'opcache.enable_cli=1'; \t} > /usr/local/etc/php/conf.d/opcache-recommended.ini"},{"name":"RUN","lineno":53,"args":"a2enmod rewrite","raw":"RUN a2enmod rewrite"},{"name":"RUN","lineno":63,"args":"set -ex; \tpecl install APCu-5.1.11; \tpecl install memcached-3.0.4; \tpecl install redis-3.1.6; \tdocker-php-ext-enable \t\tapcu \t\tmemcached \t\tredis","raw":"RUN set -ex; \tpecl install APCu-5.1.11; \tpecl install memcached-3.0.4; \tpecl install redis-3.1.6; \tdocker-php-ext-enable \t\tapcu \t\tmemcached \t\tredis"},{"name":"ENV","lineno":65,"args":{"OWNCLOUD_VERSION":"9.1.8"},"raw":"ENV OWNCLOUD_VERSION 9.1.8"},{"name":"ENV","lineno":66,"args":{"OWNCLOUD_SHA256":"2b688327a2f986236e14b81dffcf684f730f61946d8035e99a6d032083c1ef19"},"raw":"ENV OWNCLOUD_SHA256 2b688327a2f986236e14b81dffcf684f730f61946d8035e99a6d032083c1ef19"},{"name":"VOLUME","lineno":67,"args":["/var/www/html"],"raw":"VOLUME /var/www/html"},{"name":"RUN","lineno":74,"args":"set -eux; \tcurl -fL -o owncloud.tar.bz2 \"https://download.owncloud.org/community/owncloud-${OWNCLOUD_VERSION}.tar.bz2\"; \tcurl -fL -o owncloud.tar.bz2.asc \"https://download.owncloud.org/community/owncloud-${OWNCLOUD_VERSION}.tar.bz2.asc\"; \techo \"$OWNCLOUD_SHA256 *owncloud.tar.bz2\" | sha256sum -c -; \texport GNUPGHOME=\"$(mktemp -d)\"; # gpg key from https://owncloud.org/owncloud.asc","raw":"RUN set -eux; \tcurl -fL -o owncloud.tar.bz2 \"https://download.owncloud.org/community/owncloud-${OWNCLOUD_VERSION}.tar.bz2\"; \tcurl -fL -o owncloud.tar.bz2.asc \"https://download.owncloud.org/community/owncloud-${OWNCLOUD_VERSION}.tar.bz2.asc\"; \techo \"$OWNCLOUD_SHA256 *owncloud.tar.bz2\" | sha256sum -c -; \texport GNUPGHOME=\"$(mktemp -d)\"; # gpg key from https://owncloud.org/owncloud.asc"},{"name":"GPG","lineno":80,"args":"--batch --keyserver ha.pool.sks-keyservers.net --recv-keys E3036906AD9F30807351FAC32D5D5E97F6978A26; \tgpg --batch --verify owncloud.tar.bz2.asc owncloud.tar.bz2; \tcommand -v gpgconf && gpgconf --kill all || :; \trm -r \"$GNUPGHOME\" owncloud.tar.bz2.asc; \ttar -xjf owncloud.tar.bz2 -C /usr/src/; \trm owncloud.tar.bz2","raw":"gpg --batch --keyserver ha.pool.sks-keyservers.net --recv-keys E3036906AD9F30807351FAC32D5D5E97F6978A26; \tgpg --batch --verify owncloud.tar.bz2.asc owncloud.tar.bz2; \tcommand -v gpgconf && gpgconf --kill all || :; \trm -r \"$GNUPGHOME\" owncloud.tar.bz2.asc; \ttar -xjf owncloud.tar.bz2 -C /usr/src/; \trm owncloud.tar.bz2"},{"name":"COPY","lineno":82,"args":["docker-entrypoint.sh","/usr/local/bin/"],"raw":"COPY docker-entrypoint.sh /usr/local/bin/"},{"name":"RUN","lineno":83,"args":"ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh # backwards compat","raw":"RUN ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh # backwards compat"},{"name":"ENTRYPOINT","lineno":84,"args":["docker-entrypoint.sh"],"raw":"ENTRYPOINT [\"docker-entrypoint.sh\"]"},{"name":"CMD","lineno":85,"args":["apache2-foreground"],"raw":"CMD [\"apache2-foreground\"]"}]}